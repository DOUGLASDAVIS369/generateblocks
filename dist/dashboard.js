!function(e){var t={};function n(s){if(t[s])return t[s].exports;var i=t[s]={i:s,l:!1,exports:{}};return e[s].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(s,i,function(t){return e[t]}.bind(null,i));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=16)}([function(e,t){e.exports=window.wp.element},function(e,t){e.exports=window.wp.i18n},function(e,t){e.exports=window.wp.components},function(e,t){e.exports=window.wp.hooks},,,,,,,,,,function(e,t){e.exports=window.wp.apiFetch},,,function(e,t,n){"use strict";n.r(t);var s=n(0),i=n(1),a=n(2),o=n(13),r=n.n(o),c=n(3);class l extends s.Component{constructor(){super(...arguments),this.state={isAPILoaded:!1,isAPISaving:!1,isRegeneratingCSS:!1,settings:generateBlocksSettings.settings},this.getSetting=this.getSetting.bind(this),this.updateSettings=this.updateSettings.bind(this)}componentDidMount(){this.setState({isAPILoaded:!0})}getSetting(e,t){let n=t;return void 0!==this.state.settings[e]&&(n=this.state.settings[e]),n}updateSettings(e){this.setState({isAPISaving:!0});const t=e.target.nextElementSibling;r()({path:"/generateblocks/v1/settings",method:"POST",data:{settings:this.state.settings}}).then(e=>{this.setState({isAPISaving:!1}),t.classList.add("gblocks-action-message--show"),t.textContent=e.response,e.success&&e.response?setTimeout((function(){t.classList.remove("gblocks-action-message--show")}),3e3):t.classList.add("gblocks-action-message--error")})}render(){return this.state.isAPILoaded?Object(s.createElement)(s.Fragment,null,Object(s.createElement)("div",{className:"generateblocks-settings-main"},Object(c.applyFilters)("generateblocks.dashboard.beforeSettings","",this),Object(s.createElement)(a.PanelBody,{title:Object(i.__)("Settings","generateblocks")},Object(s.createElement)("div",{className:"gblocks-dashboard-panel-row-wrapper"},Object(s.createElement)(a.PanelRow,{className:"gblocks-container-width"},Object(s.createElement)("div",{className:"gblocks-units"},"px"),Object(s.createElement)(a.TextControl,{type:"number",label:Object(i.__)("Default Container Width","generateblocks"),help:generateBlocksSettings.gpContainerWidth?Object(i.__)("The default width of the Container block is set by GeneratePress in the Customizer.","generateblocks"):Object(i.__)("The default width of the Container block.","generateblocks"),disabled:!!generateBlocksSettings.gpContainerWidth,value:generateBlocksSettings.gpContainerWidth||this.getSetting("container_width"),onChange:e=>{this.setState({settings:{...this.state.settings,container_width:e}})}}),!!generateBlocksSettings.gpContainerWidthLink&&Object(s.createElement)("a",{href:generateBlocksSettings.gpContainerWidthLink,target:"_blank",rel:"noopener noreferrer",style:{fontSize:"12px"}},Object(i.__)("Go to option â†’","generateblocks"))),Object(s.createElement)(a.PanelRow,{className:"gblocks-css-print-method"},Object(s.createElement)(a.SelectControl,{label:Object(i.__)("CSS Print Method","generateblocks"),help:Object(i.__)("Generating your CSS in external files is better for overall performance.","generateblocks"),value:this.getSetting("css_print_method"),options:[{label:Object(i.__)("External File","generateblocks"),value:"file"},{label:Object(i.__)("Inline Embedding","generateblocks"),value:"inline"}],onChange:e=>{this.setState({settings:{...this.state.settings,css_print_method:e}})}})),"file"===this.getSetting("css_print_method")&&Object(s.createElement)(a.PanelRow,null,Object(s.createElement)(a.BaseControl,{id:"gblocks-regenerate-css",className:"gblocks-regenerate-css",help:Object(i.__)("Force your external CSS files to regenerate next time their page is loaded.","generateblocks")},Object(s.createElement)("div",{className:"gblocks-action-button"},Object(s.createElement)(a.Button,{isSecondary:!0,onClick:e=>{this.setState({isRegeneratingCSS:!0});const t=e.target.nextElementSibling;r()({path:"/generateblocks/v1/regenerate_css_files",method:"POST"}).then(e=>{this.setState({isRegeneratingCSS:!1}),t.classList.add("gblocks-action-message--show"),t.textContent=e.response,e.success&&e.response?setTimeout((function(){t.classList.remove("gblocks-action-message--show")}),3e3):t.classList.add("gblocks-action-message--error")})}},this.state.isRegeneratingCSS&&Object(s.createElement)(a.Spinner,null),!this.state.isRegeneratingCSS&&Object(i.__)("Regenerate CSS Files","generateblocks")),Object(s.createElement)("span",{className:"gblocks-action-message"})))),Object(s.createElement)(a.PanelRow,null,Object(s.createElement)(a.ToggleControl,{label:Object(i.__)("Sync Responsive Previews","generateblocks"),help:Object(i.__)("Sync our responsive preview controls with the editor responsive previews.","generateblocks"),checked:this.getSetting("sync_responsive_previews"),onChange:e=>{this.setState({settings:{...this.state.settings,sync_responsive_previews:e}})}})),Object(c.applyFilters)("generateblocks.dashboard.settings","",this),Object(s.createElement)("div",{className:"gblocks-action-button"},Object(s.createElement)(a.Button,{isPrimary:!0,disabled:this.state.isAPISaving,onClick:e=>this.updateSettings(e)},this.state.isAPISaving&&Object(s.createElement)(a.Spinner,null),!this.state.isAPISaving&&Object(i.__)("Save")),Object(s.createElement)("span",{className:"gblocks-action-message"})))),Object(c.applyFilters)("generateblocks.dashboard.afterSettings","",this))):Object(s.createElement)(a.Placeholder,{className:"gblocks-settings-placeholder"},Object(s.createElement)(a.Spinner,null))}}window.addEventListener("DOMContentLoaded",()=>{Object(s.render)(Object(s.createElement)(l,null),document.getElementById("gblocks-block-default-settings"))})}]);